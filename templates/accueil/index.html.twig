{% extends 'base.html.twig' %}

{% block title %}Accueil{% endblock %}

{% block body %}


<div class="container">
  <div class="row col-12 col-md-5 offset-md-3">
    <h2>Vendeurs les plus populaires</h2>
    <div id="carouselExample1" class="carousel slide" data-bs-ride="carousel" data-bs-interval="3000">
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img src="{{ asset('images/produit1.jpg')}}" alt="vendeur" class="img-fluid">
        </div>
        {% for vendeur in vendeurs %} 
          <div class="carousel-item ">
            <div class="card">
              <img src="{{ asset('images/' ~ vendeur.raisonSociale ~ '.jpg')}}" alt="vendeur" class="img-fluid">
              <h5 class="card-title">{{vendeur.raisonSociale}}</h5>
              <p class="card-text">{{vendeur.description}}</p>
              <a href="{{ path('produitsVendeur', {'id' : vendeur.id})}}" class="btn btn-primary">Voir les articles en vente</a>
            </div>
          </div>
        {% endfor %}
      </div>
      <a class="carousel-control-prev" data-bs-target="#carouselExample1" type="button" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </a>
      <a class="carousel-control-next" data-bs-target="#carouselExample1" type="button" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </a>
    </div>
  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>

<!-- La j'essai de faire un caroussel des meilleurs vendeurs!-->
     
<div class="container">
  <div class="row col-12 col-md-5 offset-md-3">
    <h2>Vendeurs les plus populaires</h2>
    <div id="carouselExample" class="carousel carousel-dark slide" data-bs-ride="carousel" data-bs-interval="3000">
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img src="{{ asset('images/produit1.jpg')}}" alt="vendeur" class="img-fluid">
        </div>
        {% for produit in produits %} 
          <div class="carousel-item ">
            <div class="card">
              <img class="card-img-top" src="{{asset(produit.image)}}" alt="...">
              <div class="card-body">
              <h5 class="card-title">{{produit.nom}}</h5>
              <p class="card-text">{{produit.description}}</p>
            </div>
            <ul class="list-group list-group-flush">
              <li class="list-group-item">poid d'une portion : {{ produit.poidUnitaire}}</li>  
              <li class="list-group-item">prix de la portion TTC : {{ (produit.prixUnitaireHT + produit.prixUnitaireHT * produit.TVA)|number_format(2)}}</li>
              <li class="list-group-item">
              <a href="{{ path('panierUpdate', {'id' : produit.id, 'action' : 'plus'})}}" class="btn btn-success" role="button"><i class="fas fa-1x fa-cart-plus"></i></a>   
              <a href="{{ path('produitsVendeur', {'id' : produit.vendeur.id})}}" class="btn btn-primary btn-sm">Voir le profil du vendeur</a>
              </li>
            </ul>
           </div>
          </div>
        {% endfor %}
      </div>
      <a class="carousel-control-prev" data-bs-target="#carouselExample" type="button" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </a>
      <a class="carousel-control-next" data-bs-target="#carouselExample" type="button" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </a>
    </div>
  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script> 

<h1>Produits les plus populaires</h1>


{# <div class="row">

    {% for produit in produits %}


        <div class="card" style="width: 19rem;">
        <img class="card-img-top" src="{{asset(produit.image)}}" alt="...">
            <div class="card-body">
            <h5 class="card-title">{{produit.nom}}</h5>
            
            <p class="card-text">{{produit.description}}</p>
            </div>
        <ul class="list-group list-group-flush">
            <li class="list-group-item">
            Stock : {{produit.stock}}
            </li>
            <li class="list-group-item">
            poid d'une portion : {{ produit.poidUnitaire}}
            </li>
            <li class="list-group-item">
            prix de la portion HT : {{ produit.prixUnitaireHT }}
            </li>
            <li class="list-group-item">
            prix de la portion TTC : {{ (produit.prixUnitaireHT + produit.prixUnitaireHT * produit.TVA)|number_format(2)}}
        </li>
        <li class="list-group-item">
            <a href="{{ path('panierUpdate', {'id' : produit.id, 'action' : 'plus'})}}" class="btn btn-success" role="button"><i class="fas fa-1x fa-cart-plus"></i></a>   
            <a href="{{ path('produitsVendeur', {'id' : produit.vendeur.id})}}" class="btn btn-primary btn-sm">Voir le profil du vendeur</a>
        </li>
        
    </ul>
</div>
{% endfor %}
</div> #}





{% endblock %}
